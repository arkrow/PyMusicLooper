[tool.poetry]
name = "pymusiclooper"
version = "0.0.0"
description = "Repeat music endlessly and create seamless music loops, with play/export/tagging support."
license = "MIT"
classifiers = [
  "Development Status :: 5 - Production/Stable",
  "Environment :: Console",
  "License :: OSI Approved :: MIT License",
  "Operating System :: OS Independent",
  "Programming Language :: Python",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.9",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Topic :: Multimedia :: Sound/Audio",
  "Topic :: Multimedia :: Sound/Audio :: Analysis",
]
repository = "https://github.com/arkrow/PyMusicLooper"
readme = "README.md"
authors = ["arkrow <arkrow@protonmail.com>"]

include = [
  "pymusiclooper/_version.py",
  { path = "poetry.lock", format = [
    "sdist",
    "wheel",
  ] },
]

[tool.poetry.dependencies]
python = ">=3.9,<3.13"
librosa = "0.10.2"
numpy = ">=1.25.0, <2.0.0"
soundfile = ">=0.12.1"
sounddevice = ">=0.4.6"
rich-click = "^1.8.0"
rich = ">= 13.4.2"
pytaglib = "^3.0.0"
numba = ">=0.59.1"
yt-dlp = ">=2024.7.2"
click-params = "^0.5.0"
click-option-group = "^0.5.6"
lazy-loader = ">=0.3"

[tool.poetry.scripts]
pymusiclooper = 'pymusiclooper.__main__:cli'

[tool.poetry.urls]
"Changelog" = "https://github.com/arkrow/PyMusicLooper/blob/master/CHANGELOG.md"

[build-system]
requires = ["poetry-core>=1.0.0", "poetry-dynamic-versioning>=1.0.0,<2.0.0"]
build-backend = "poetry_dynamic_versioning.backend"

[tool.poetry-pyinstaller-plugin]
# Pyinstaller version (Optional, latest if not set)
# Does not support version constraint (eg: ^6.4)
version = "6.9.0"

# Disable UPX compression
disable-upx = true

[tool.poetry-pyinstaller-plugin.scripts]
# Single file bundled
pymusiclooper = { source = "pymusiclooper/__main__.py", type = "onefile" }

[tool.poetry-pyinstaller-plugin.collect]
# Collect all submodules, data files & binaries for 'sounddevice'
all = ['sounddevice']

[tool.poetry-dynamic-versioning]
enable = true
vcs = "git"
style = "semver"

[tool.poetry-dynamic-versioning.files."pymusiclooper/_version.py"]
persistent-substitution = true
initial-content = """
# File generated by poetry-dynamic-versioning
# Do not change or commit to version control

__version__ = "0.0.0"
__version_tuple__ = (0, 0, 0)
"""

[tool.ruff]
target-version = "py39"
ignore = ["E501", "E402"]
